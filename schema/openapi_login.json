{"openapi":"3.1.0","info":{"title":"Invariant Login","summary":"Invariant home page and login service","version":"0.1.0"},"servers":[{"url":"https://invariant.test"}],"paths":{"/api/v1/github-webhook":{"post":{"tags":["webhooks"],"summary":"Receive a signed webhook message from Github","operationId":"github_webhook_recv_api_v1_github_webhook_post","responses":{"204":{"description":"Successful Response"},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}}}}},"/api/v1/client-login":{"post":{"tags":["client-login"],"summary":"Create a client login flow token.","operationId":"init_client_login_api_v1_client_login_post","responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClientLoginSessionResponse"}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}}}}},"/api/v1/fulfill_client_login":{"post":{"tags":["client-login"],"summary":"Fullfil a client login session.","description":"Resolve a client login session to a specific access token + org using a refresh token.","operationId":"fulfill_client_login_api_v1_fulfill_client_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FulfillClientLoginRequest"}}},"required":true},"responses":{"204":{"description":"Client login session completed."},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChallengeResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}}},"security":[{"JwtRefreshCookie":[]}]}},"/api/v1/client-login-consume":{"post":{"tags":["client-login"],"summary":"Consume a client login flow token.","operationId":"consume_client_login_api_v1_client_login_consume_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConsumeClientLoginSessionResponse"}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}}},"security":[{"JwtAccessBearer":[]}]}},"/api/v1/login/":{"post":{"tags":["login"],"summary":"Authenticate and respond to authentication challenges","description":"The challenge-response workflow API. This API may do one of the following:\n\n1. Create a login session with a \"next challenge\" for the caller.\n2. Reject an incorrect request.\n3. Issue a refresh token cookie.\n\n## Login session\n\nThis API will respond with HTTP status 401 containing a Login Session Token when it needs\nthe user to complete additional challenges. The Login Session Token (LST) is a signed JWT\nasserting the state of the user in the login workflow. The client must include the LST in\ntheir next init_login API call to continue the workflow.\n\n## Challenges\n\nThese challenge types may be issued by this API.\n\n### Primary authentication\n\nThe user must provide a primary authetication credential in response to challenge `auth`. This could include basic authentication\n(username / password) or federated login (OIDC, SAML) or passkey.\n\nAcceptable methods can include `basic_auth`, `oidc`, etc. OIDC may be accompanied by provider\nconfig info.\n\n### Email validation\n\nThe user must retrieve a verification code (PIN) from their email to prove they have control of\nthat email account as part of initial account setup in response to challenge `validate_email`.\n\n### Setup code\n\nThe user must provide a setup code transmitted from the administrator through some means in\nresponse to challenge 'setup_code' as part of initial account setup.\n\n### New password\n\nThe user must provide a new password as part of initial account setup in response to challenge\n`new_password`. Relevant only if basic_auth is supported.\n\n### Password reset PIN\n\nThe user must retrieve a verification code (PIN) from their email to prove they have control of\nthat email account in order to proceed with password reset in response to challenge `reset_pin`.\n\n### Start challenge\n\nThe client should display the email selection screen. This challenge is typically issued when the\nuser session has expired.\n\n## Initiating the login process\n\nThe client can initiate a login session using the following message types.\n\n### Initialize login\n\nThe basic scenario where the user provides an email address. The server will reply with\nchallenge `auth` and a list of available login methods if a login exists for this email.\n\n### Consume setup link\n\nIn this scenario the client provides an email address and a setup link. The server will\nconfirm the validity of the setup link and allow the session to proceed.\n\n## Cookie and cookie session\n\nThis API will issue a refresh token cookie upon successful login. The cookie is linked to\na cookie session in the database (table user_sessions). The cookie expires after 24 hours\nand cannot be refreshed or extended. The user session auto-expires after a period of inactivity.\n\nThe refresh token cookie is accepted by the following notable APIs:\n\n-   Get a list of available instances: /get_instances .\n-   Get an instance access token: /:org/api/v1/refresh .\n-   Log out /logout .","operationId":"init_login_api_v1_login__post","requestBody":{"content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/schemas/InitLoginRequest"},{"$ref":"#/components/schemas/SetupCodeRequest"},{"$ref":"#/components/schemas/InitLoginInvitationRequest"},{"$ref":"#/components/schemas/InitLoginSetupLinkRequest"},{"$ref":"#/components/schemas/CreateLoginRequest"},{"$ref":"#/components/schemas/EmailPasswordLoginRequest"},{"$ref":"#/components/schemas/OpenIDLoginRequest"},{"$ref":"#/components/schemas/ResetRequest"},{"$ref":"#/components/schemas/ResetPINRequest"},{"$ref":"#/components/schemas/NewPasswordRequest"},{"$ref":"#/components/schemas/ValidationRequest"}],"title":"Req","discriminator":{"propertyName":"type","mapping":{"init_login":"#/components/schemas/InitLoginRequest","setup_code":"#/components/schemas/SetupCodeRequest","init_login_invite":"#/components/schemas/InitLoginInvitationRequest","init_login_setup":"#/components/schemas/InitLoginSetupLinkRequest","new_login":"#/components/schemas/CreateLoginRequest","basic_auth":"#/components/schemas/EmailPasswordLoginRequest","oidc_auth":"#/components/schemas/OpenIDLoginRequest","reset_request":"#/components/schemas/ResetRequest","reset_pin_request":"#/components/schemas/ResetPINRequest","new_password":"#/components/schemas/NewPasswordRequest","email_valid":"#/components/schemas/ValidationRequest"}}}}},"required":true},"responses":{"204":{"description":"Authentication Complete, Token Issued"},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChallengeResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}}},"security":[{"JwtAccessBearer":[]}]}},"/api/v1/login/exists":{"post":{"tags":["login"],"summary":"Test if an active login exists for the given email","description":"Tests if an active login exists for the given email.","operationId":"active_login_exists_for_email_api_v1_login_exists_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailCheckRequest"}}},"required":true},"responses":{"204":{"description":"Login Found"},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}}}}},"/api/v1/login/prepare_sso":{"get":{"tags":["login"],"summary":"Resolve non-private SSO integration info such as redirect URL. May set OIDC session cookie info.","operationId":"initiateSSO_api_v1_login_prepare_sso_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiateSSOResponse"}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}}},"security":[{"JwtAccessBearer":[]}]}},"/api/v1/login/complete_sso_pkce":{"post":{"tags":["login"],"summary":"Retrieve the OpenID token using the OIDC PKCE state code. May issue a login cookie and create a user session.","operationId":"completeSSO_api_v1_login_complete_sso_pkce_post","security":[{"JwtAccessBearer":[]}],"parameters":[{"name":"state","in":"query","required":true,"schema":{"type":"string","title":"State"}}],"responses":{"204":{"description":"Authentication Complete, Token Issued"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}},"description":"Unprocessable Entity"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}},"description":"Not Found"}}}},"/api/v1/login/logout":{"post":{"tags":["login"],"summary":"Terminate the user session.","operationId":"logout_api_v1_login_logout_post","responses":{"204":{"description":"Logged out, session terminated"},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChallengeResponse"}}}}},"security":[{"JwtRefreshCookie":[]}]}},"/api/v1/login/get_instances":{"post":{"tags":["login"],"summary":"List instances available to the current login","description":"List instances where this login is associated with an active user.","operationId":"get_instances_api_v1_login_get_instances_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserSummary"},"type":"array","title":"Response Get Instances Api V1 Login Get Instances Post"}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChallengeResponse"}}}}},"security":[{"JwtRefreshCookie":[]}]}},"/api/v1/login/consume_invitation":{"post":{"tags":["login"],"summary":"Consume an invitation link.","description":"Consume an invitation link, granting access to the target org/user. Security policy\nmay constrain the current login from joining external accounts.","operationId":"consume_invitation_api_v1_login_consume_invitation_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConsumeInviteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConsumeInviteResponse"}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChallengeResponse"}}}}},"security":[{"JwtRefreshCookie":[]}]}},"/api/v1/login/register":{"post":{"tags":["login"],"summary":"Register a new organization","operationId":"register_api_v1_login_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterOrganizationRequestBody"}}},"required":true},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}}}}},"/api/v1/login/resend_validation_pin":{"post":{"tags":["login"],"summary":"Resend a validation PIN","operationId":"resend_validation_pin_api_v1_login_resend_validation_pin_post","responses":{"204":{"description":"Successful Response"},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChallengeResponse"}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseErrorResponse"}}}}},"security":[{"JwtAccessBearer":[]}]}},"/api/v1/login/version":{"get":{"tags":["login"],"summary":"Return the current server version.","operationId":"get_version_api_v1_login_version_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetVersionResponse"}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}}}}},"/docs":{"get":{"summary":"Redirect Docs","operationId":"redirect_docs_docs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}}}}},"/":{"get":{"summary":"Redirect Login","operationId":"redirect_login__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}}}}},"/pricing":{"get":{"summary":"Redirect Login2","operationId":"redirect_login2_pricing_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}}}}}},"/{urlpath}":{"get":{"tags":["static"],"summary":"Static files (catch-all)","operationId":"static__urlpath__get","parameters":[{"name":"urlpath","in":"path","required":true,"schema":{"type":"string","title":"Urlpath"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationErrorResponse"}}},"description":"Unprocessable Entity"}}}}},"components":{"schemas":{"AuthnChallenge":{"properties":{"type":{"const":"authn","title":"Type"},"allowed_methods":{"items":{"oneOf":[{"$ref":"#/components/schemas/BasicAuthLoginMethod"},{"$ref":"#/components/schemas/Public"}],"discriminator":{"propertyName":"type","mapping":{"basic_auth":"#/components/schemas/BasicAuthLoginMethod","oidc":"#/components/schemas/Public"}}},"type":"array","title":"Allowed Methods"}},"type":"object","required":["type","allowed_methods"],"title":"AuthnChallenge","description":"The user must provide a primary authentication credential."},"BaseErrorResponse":{"properties":{"status":{"type":"integer","title":"Status"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"title":{"type":"string","title":"Title"},"detail":{"type":"string","title":"Detail"},"instance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Instance"}},"type":"object","required":["status","type","title","detail"],"title":"BaseErrorResponse","description":"Based on RFC7807 - see BaseResponse."},"BasicAuthLoginMethod":{"properties":{"type":{"const":"basic_auth","title":"Type"}},"type":"object","required":["type"],"title":"BasicAuthLoginMethod"},"ChallengeResponse":{"properties":{"status":{"type":"integer","title":"Status"},"type":{"const":"urn:invariant:errors:auth_challenge","title":"Type"},"title":{"type":"string","title":"Title"},"detail":{"type":"string","title":"Detail"},"instance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Instance"},"challenge":{"oneOf":[{"$ref":"#/components/schemas/AuthnChallenge"},{"$ref":"#/components/schemas/NewLoginChallenge"},{"$ref":"#/components/schemas/ValidateEmailChallenge"},{"$ref":"#/components/schemas/PasswordResetPINChallenge"},{"$ref":"#/components/schemas/SetPasswordChallenge"},{"$ref":"#/components/schemas/SetupCodeChallenge"},{"$ref":"#/components/schemas/StartChallenge"}],"title":"Challenge","discriminator":{"propertyName":"type","mapping":{"authn":"#/components/schemas/AuthnChallenge","new_login":"#/components/schemas/NewLoginChallenge","new_password":"#/components/schemas/SetPasswordChallenge","reset_pin":"#/components/schemas/PasswordResetPINChallenge","setup_code":"#/components/schemas/SetupCodeChallenge","start":"#/components/schemas/StartChallenge","validate_email":"#/components/schemas/ValidateEmailChallenge"}}},"login_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login Token"}},"type":"object","required":["status","type","title","detail","challenge"],"title":"ChallengeResponse"},"ConsumeClientLoginSessionResponse":{"properties":{"status":{"type":"integer","title":"Status"},"type":{"const":"urn:invariant:responses:consume_client_login_response","title":"Type","default":"urn:invariant:responses:consume_client_login_response"},"retry_after":{"type":"integer","title":"Retry After"},"access_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access Token"},"org_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Org Name"}},"type":"object","required":["status","retry_after","access_token","org_name"],"title":"ConsumeClientLoginSessionResponse"},"ConsumeInviteRequest":{"properties":{"icode":{"type":"string","format":"password","title":"Icode","writeOnly":true}},"type":"object","required":["icode"],"title":"ConsumeInviteRequest"},"ConsumeInviteResponse":{"properties":{"user":{"$ref":"#/components/schemas/UserSummary"}},"type":"object","required":["user"],"title":"ConsumeInviteResponse"},"CreateClientLoginSessionResponse":{"properties":{"status":{"type":"integer","title":"Status"},"type":{"const":"urn:invariant:responses:init_client_login_response","title":"Type","default":"urn:invariant:responses:init_client_login_response"},"pin":{"type":"string","title":"Pin"},"url":{"type":"string","title":"Url"},"uuid":{"type":"string","title":"Uuid"},"token":{"type":"string","title":"Token"}},"type":"object","required":["status","pin","url","uuid","token"],"title":"CreateClientLoginSessionResponse"},"CreateLoginRequest":{"properties":{"type":{"const":"new_login","title":"Type"},"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","format":"password","title":"Password","writeOnly":true},"ilink":{"type":"string","format":"password","title":"Ilink","writeOnly":true}},"type":"object","required":["type","email","password","ilink"],"title":"CreateLoginRequest","description":"This request creates a new login from an invite link. It does not require any credential."},"EmailCheckRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"EmailCheckRequest"},"EmailPasswordLoginRequest":{"properties":{"type":{"const":"basic_auth","title":"Type"},"password":{"type":"string","format":"password","title":"Password","writeOnly":true}},"type":"object","required":["type","password"],"title":"EmailPasswordLoginRequest","description":"Respond to the authn challenge with basic authentication credentials."},"FulfillClientLoginRequest":{"properties":{"organization_name":{"type":"string","title":"Organization Name"},"pin":{"type":"string","format":"password","title":"Pin","writeOnly":true}},"type":"object","required":["organization_name","pin"],"title":"FulfillClientLoginRequest"},"GetVersionResponse":{"properties":{"version":{"type":"string","title":"Version"}},"type":"object","required":["version"],"title":"GetVersionResponse"},"InitLoginInvitationRequest":{"properties":{"type":{"const":"init_login_invite","title":"Type"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"ilink":{"type":"string","format":"password","title":"Ilink","writeOnly":true}},"type":"object","required":["type","ilink"],"title":"InitLoginInvitationRequest","description":"This request initiates a login session based on an invite link."},"InitLoginRequest":{"properties":{"type":{"const":"init_login","title":"Type"},"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["type","email"],"title":"InitLoginRequest","description":"This request initiates a login session. It does not require any credential."},"InitLoginSetupLinkRequest":{"properties":{"type":{"const":"init_login_setup","title":"Type"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"slink":{"type":"string","format":"password","title":"Slink","writeOnly":true}},"type":"object","required":["type","slink"],"title":"InitLoginSetupLinkRequest","description":"This request initiates a login session based on a managed user setup link."},"InitiateSSOResponse":{"properties":{"methods":{"items":{"$ref":"#/components/schemas/Redirect"},"type":"array","title":"Methods"}},"type":"object","required":["methods"],"title":"InitiateSSOResponse"},"LoginSummary":{"properties":{"uuid":{"type":"string","format":"uuid","title":"Uuid"},"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["uuid","email"],"title":"LoginSummary"},"NewLoginChallenge":{"properties":{"type":{"const":"new_login","title":"Type"}},"type":"object","required":["type"],"title":"NewLoginChallenge","description":"The user must complete self-service login registration."},"NewPasswordRequest":{"properties":{"type":{"const":"new_password","title":"Type"},"password":{"type":"string","format":"password","title":"Password","writeOnly":true},"authn_type":{"$ref":"#/components/schemas/NewPasswordRequestAuthnType"},"authn":{"type":"string","format":"password","title":"Authn","writeOnly":true}},"type":"object","required":["type","password","authn_type","authn"],"title":"NewPasswordRequest","description":"Respond to the new_password challenge. The user is either setting an initial password or using password reset."},"NewPasswordRequestAuthnType":{"type":"string","enum":["PIN","TOKEN","INITIAL_SETUP"],"title":"NewPasswordRequestAuthnType"},"OpenIDLoginRequest":{"properties":{"type":{"const":"oidc_auth","title":"Type"},"token":{"type":"string","format":"password","title":"Token","writeOnly":true}},"type":"object","required":["type","token"],"title":"OpenIDLoginRequest","description":"Respond to the authn challenge with basic authentication credentials."},"OrganizationSummary":{"properties":{"uuid":{"type":"string","format":"uuid","title":"Uuid"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"color":{"type":"string","title":"Color"},"icon":{"type":"string","title":"Icon"},"url":{"type":"string","title":"Url"}},"type":"object","required":["uuid","name","description","color","icon","url"],"title":"OrganizationSummary"},"PasswordResetPINChallenge":{"properties":{"type":{"const":"reset_pin","title":"Type"}},"type":"object","required":["type"],"title":"PasswordResetPINChallenge","description":"The user must prove control of the email address by PIN before proceeding to reset the password."},"Public":{"properties":{"type":{"const":"oidc","title":"Type"},"name":{"type":"string","title":"Name"}},"type":"object","required":["type","name"],"title":"Public"},"Redirect":{"properties":{"type":{"const":"oidc","title":"Type"},"name":{"type":"string","title":"Name"},"redirect_url":{"type":"string","title":"Redirect Url"},"integration_uuid":{"type":"string","format":"uuid","title":"Integration Uuid"}},"type":"object","required":["type","name","redirect_url","integration_uuid"],"title":"Redirect"},"RegisterOrganizationRequestBody":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"RegisterOrganizationRequestBody","description":"Request body used to register a new organization."},"ResetPINRequest":{"properties":{"type":{"const":"reset_pin_request","title":"Type"},"pin":{"type":"string","format":"password","title":"Pin","writeOnly":true}},"type":"object","required":["type","pin"],"title":"ResetPINRequest","description":"Respond to the reset_pin challenge."},"ResetRequest":{"properties":{"type":{"const":"reset_request","title":"Type"}},"type":"object","required":["type"],"title":"ResetRequest","description":"Initiate password reset. Requires a login session. Not permitted during initial account setup for managed domains."},"SetPasswordChallenge":{"properties":{"type":{"const":"new_password","title":"Type"}},"type":"object","required":["type"],"title":"SetPasswordChallenge","description":"The user must provide a new password before gaining access to the account."},"SetupCodeChallenge":{"properties":{"type":{"const":"setup_code","title":"Type"}},"type":"object","required":["type"],"title":"SetupCodeChallenge","description":"The user must the initial password for the account before taking any setup actions."},"SetupCodeRequest":{"properties":{"type":{"const":"setup_code","title":"Type"},"scode":{"type":"string","format":"password","title":"Scode","writeOnly":true}},"type":"object","required":["type","scode"],"title":"SetupCodeRequest","description":"Respond to the scode challenge."},"StartChallenge":{"properties":{"type":{"const":"start","title":"Type"}},"type":"object","required":["type"],"title":"StartChallenge","description":"The client should reset the login session and display the email selection screen."},"UserSummary":{"properties":{"uuid":{"type":"string","format":"uuid","title":"Uuid"},"organization":{"$ref":"#/components/schemas/OrganizationSummary"},"login":{"$ref":"#/components/schemas/LoginSummary"},"email":{"type":"string","format":"email","title":"Email"},"is_active":{"type":"boolean","title":"Is Active"},"is_superuser":{"type":"boolean","title":"Is Superuser"}},"type":"object","required":["uuid","organization","login","email","is_active","is_superuser"],"title":"UserSummary"},"ValidateEmailChallenge":{"properties":{"type":{"const":"validate_email","title":"Type"}},"type":"object","required":["type"],"title":"ValidateEmailChallenge","description":"The user must prove control of the email address by PIN before gaining access to the account."},"ValidationErrorResponse":{"properties":{"status":{"type":"integer","title":"Status"},"type":{"const":"urn:invariant:errors:validation","title":"Type"},"title":{"const":"There was a problem with your request.","title":"Title"},"detail":{"type":"string","title":"Detail"},"instance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Instance"},"validations":{"items":{"$ref":"#/components/schemas/ValidationErrorResponsePart"},"type":"array","title":"Validations"}},"type":"object","required":["status","type","title","detail","validations"],"title":"ValidationErrorResponse"},"ValidationErrorResponsePart":{"properties":{"loc":{"items":{"type":"string"},"type":"array","title":"Loc"},"msg":{"type":"string","title":"Msg"},"type":{"type":"string","title":"Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationErrorResponsePart"},"ValidationRequest":{"properties":{"type":{"const":"email_valid","title":"Type"},"pin":{"type":"string","format":"password","title":"Pin","writeOnly":true}},"type":"object","required":["type","pin"],"title":"ValidationRequest","description":"Respond to the validate_email challenge."}},"securitySchemes":{"JwtRefreshCookie":{"type":"apiKey","in":"cookie","name":"refresh_token_cookie"},"JwtAccessBearer":{"type":"http","scheme":"bearer"}}}}